# Segment Tree

## 概要

セグメント木は、配列上の区間クエリを効率的に処理するためのデータ構造です。
区間の和、最小値、最大値、GCDなどの様々な演算に対応し、更新操作と区間クエリの両方を高速に実行できます。
このライブラリでは、基本的なセグメント木と遅延伝播セグメント木の実装を提供する予定です。

## 実装クラス

### [SegmentTree](./src/SegmentTree.java) (計画中)

- **用途**：配列上の区間クエリを効率的に処理するための基本的なセグメント木
- **特徴**：
	- 区間の和、最小値、最大値、GCDなど様々な演算に対応予定
	- 一点更新と区間クエリの両方をサポート
	- モノイド演算（結合法則を満たし、単位元を持つ演算）に基づく汎用的な実装
- **主な操作**:
	- `update(int index, T value)`: 指定位置の値を更新
	- `query(int left, int right)`: 指定区間に対するクエリを実行
	- `get(int index)`: 指定位置の値を取得
- **時間計算量**：
	- 構築: O(n)
	- 更新: O(log n)
	- クエリ: O(log n)
- **空間計算量**：O(n)

### [LazySegmentTree](./src/LazySegmentTree.java) (計画中)

- **用途**：区間更新と区間クエリの両方を効率的に処理するための遅延伝播セグメント木
- **特徴**：
	- 区間の和、最小値、最大値、GCDなど様々な演算に対応予定
	- 区間更新と区間クエリの両方をサポート
	- 遅延伝播による効率的な区間更新
- **主な操作**:
	- `update(int left, int right, U value)`: 指定区間の値を更新
	- `query(int left, int right)`: 指定区間に対するクエリを実行
	- `get(int index)`: 指定位置の値を取得
- **時間計算量**：
	- 構築: O(n)
	- 区間更新: O(log n)
	- 区間クエリ: O(log n)
- **空間計算量**：O(n)

## アルゴリズム（データ構造）選択ガイド

- **SegmentTree**: 一点更新と区間クエリが必要な場合に適しています。例えば、区間の和、最小値、最大値などを求める問題で使用できます。
- **LazySegmentTree**: 区間更新と区間クエリの両方が必要な場合に適しています。例えば、区間に一定値を加算し、その後で区間の和や最小値を求める問題で使用できます。

## 注意事項

- 現在、これらのクラスは計画段階であり、実装はまだ完了していません。
- セグメント木は、配列の長さが2のべき乗でない場合でも使用できるように実装される予定です。
- 演算の種類（和、最小値、最大値など）は、コンストラクタで指定できるように設計される予定です。
- 遅延伝播セグメント木は、区間更新と区間クエリの両方が必要な場合に使用すべきですが、一点更新のみの場合は基本的なセグメント木の方が効率的です。