# FastPrinter利用ガイド

## 概要

`FastPrinter` は、競技プログラミング向けに設計された高速出力ユーティリティクラスです。  
低レベルなバイト操作と内部バッファリングを用いてパフォーマンスを最大化し、標準的な出力方式よりも高速な処理が可能です。

## 特徴

- **効率的な出力**: 内部バッファを利用して効率的に出力します 。
- **高速性の重視**: 最小限のオブジェクト生成で高速性を重視しています 。
- **文字コード**: `ASCII` 範囲内の文字出力のみをサポートします 。
- **リソース管理**: `AutoCloseable` インターフェースを実装しており、`try-with-resources`構文に対応しています 。

## 依存関係

- Java 標準の入出力ライブラリ（`OutputStream`）
- 静的インポート: `java.lang.Math`（`max`, `min`等の操作）

## 主な機能（メソッド一覧）

### 1. 基本的な出力

- `print(...)` 系: 改行なしでデータ出力
- `println(...)` 系: 改行付きのデータ出力

### 2. バッファ制御

- 明示的なバッファのフラッシュ処理: `flush()`
- 自動フラッシュ設定: コンストラクタで `autoFlush` を指定可能。

### 3. コンストラクタ

| メソッド                                                               | 説明                                                              |
|:-------------------------------------------------------------------|:----------------------------------------------------------------|
| `FastPrinter()`                                                    | デフォルト設定（バッファ64K、出力ストリーム `System.out`、`autoFlush=false`）で初期化します。 |
| `FastPrinter(OutputStream out)`                                    | 指定した出力ストリームを利用して初期化します。                                         |
| `FastPrinter(int bufferSize)`                                      | 指定サイズのバッファを使用して初期化します。                                          |
| `FastPrinter(boolean autoFlush)`                                   | autoFlushを指定して初期化します。                                           |
| `FastPrinter(OutputStream out, boolean autoFlush)`                 | バッファサイズとautoFlushを指定して初期化します。                                   |
| `FastPrinter(int bufferSize, boolean autoFlush)`                   | 出力ストリームとautoFlushを指定して初期化します。                                   |
| `FastPrinter(OutputStream out, int bufferSize)`                    | 出力ストリームとバッファサイズを指定して初期化します。                                     |
| `FastPrinter(OutputStream out, int bufferSize, boolean autoFlush)` | 出力ストリーム、バッファサイズ、autoFlush設定をすべて指定して初期化します。                      |

## 利用例

`try-with-resources` 構文を使用することで、処理の最後に自動的に `close()` (内部で `flush()` を呼び出し)
が実行され、確実なリソース解放が保証されます。

```java
try (FastPrinter fp = new FastPrinter()) {
	fp.println("競技プログラミング用出力");
	fp.print(12345);
} catch (Exception e) {
	throw new RuntimeException(e);
}
```

## 注意事項

- `ASCII` 範囲外の文字はサポートされていません。
- 出力先 `OutputStream` を未指定の場合、`System.out` が使用されます。
- `autoFlush` が `false` の場合、処理の最後に明示的に `flush()` を呼び出すか、`try-with-resources`
	構文を使用する必要があります 。

## パフォーマンス特性

- **計算量**: 出力文字数に対して線形（`O(文字数)`）。
- **高速化の仕組み**: 内部バッファを利用することで、高コストのシステムコールを減らし高速な出力を実現します。

## バージョン情報

| バージョン番号       | 年月日        | 詳細                                                 |
|:--------------|:-----------|:---------------------------------------------------|
| **バージョン 1.0** | 2025-04-07 | 初期バージョンとしてファイルを新規作成しました。                           |
| **バージョン 2.0** | 2025-05-23 | `print`/`println(Object o)` メソッドを拡張し、各種配列型に対応しました。 |
| **バージョン 2.1** | 2025-06-08 | 整数出力のロジックを改善し、パフォーマンスを向上させました。                     |

### バージョン管理について

バージョン番号は2桁で管理します：

- 1桁目（メジャーバージョン）: メソッドの追加や機能拡張があった場合に更新
- 2桁目（マイナーバージョン）: 誤字修正、バグ修正、マイクロ高速化などの小さな更新があった場合に更新
