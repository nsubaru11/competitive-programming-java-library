# Prime Number

## 概要

素数を効率的に生成、判定、操作するためのアルゴリズムとユーティリティを提供します。
エラトステネスの篩を用いた高速な素数生成や、様々な素数関連の操作をサポートしています。

## 実装クラス

### [PrecomputedPrimes](src/PrecomputedPrimes.java)

- **用途**: 指定された上限までの素数を事前計算し、様々な素数関連の操作を提供するクラス
- **特徴**:
	- エラトステネスの篩を用いた効率的な素数生成
	- ビット操作を用いたメモリ効率の良い実装（奇数のみ管理）
	- 素数判定、素数の個数カウント、k番目の素数取得などの機能
	- 素数の範囲検索（ceiling, floor, higher, lower）
	- 素数の反復処理とストリーム処理をサポート
	- 素因数分解機能
- **時間計算量**: 初期化 O(N log log N)、クエリ O(1)〜O(log N)
- **空間計算量**: O(N)（実際はビット配列により約N/128バイト）

### [PrimeUtils](src/PrimeUtils.java)

- **用途**: 素数に関する様々なユーティリティメソッドを提供する静的クラス
- **特徴**:
	- 単一の素数判定（試し割り法、O(√N)）
	- 確率的素数判定（Miller-Rabinアルゴリズム）
	- 指定範囲内の素数の個数カウント
	- 指定範囲内の素数をSetまたはListとして取得
	- 事前計算不要で即座に使用可能
- **時間計算量**: 判定 O(√N)、範囲列挙 O(N log log N)
- **空間計算量**: 範囲列挙 O(N)

## アルゴリズム（データ構造）選択ガイド

### PrecomputedPrimesを選ぶべき場合

- 同じ範囲で複数回の素数判定やクエリを行う場合
- 素数の範囲検索（ceiling, floor等）が必要な場合
- k番目の素数を高速に取得したい場合
- 素因数分解を複数回実行する場合
- 素数を順次列挙したい場合
- 推奨範囲: N ≤ 10^8（メモリ約100MB、初期化約1秒）

### PrimeUtilsを選ぶべき場合

- 一度だけの素数判定や範囲列挙を行う場合
- メモリ使用量を最小限に抑えたい場合
- 事前計算のオーバーヘッドを避けたい場合
- 非常に大きな数の素数判定（isProbablePrime）が必要な場合
- 動的に範囲を変更しながら処理する場合

## 注意事項

- PrecomputedPrimesは指定された上限までの素数を事前計算するため、メモリ使用量に注意が必要です
- 非常に大きな数値の素数判定には、PrimeUtils.isProbablePrimeを使用することを検討してください
- PrecomputedPrimesの素因数分解は、事前計算された素数の範囲内でのみ動作します
- PrimeUtilsの範囲指定メソッドはInt型の範囲内（約2×10^9）の素数のみ扱えます
